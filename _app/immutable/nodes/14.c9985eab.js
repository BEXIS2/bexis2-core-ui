import{S as se,i as fe,s as ue,k as T,l as z,m as I,h as y,n as b,p as ie,b as k,F as j,Z as J,J as de,K as pe,E as nt,a as W,c as Y,N as A,a9 as K,G as it,H as rt,I as at,g as O,d as L,P as lt,a4 as ze,a5 as ot,w as ge,q as G,r as V,a7 as st,v as Ie,f as je,o as ft,y as Z,z as Q,A as X,B as $,u as Oe,e as he,a0 as ut}from"../chunks/index.9ace2197.js";/* empty css                                                       */import{F as Ce,k as ct}from"../chunks/index.119b27a0.js";import{S as mt}from"../chunks/Spinner.e7569dd9.js";import{f as dt}from"../chunks/index.e61a411c.js";import{A as be}from"../chunks/pageStores.0177ad82.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.29c4a86c.js";/* empty css                                                     */import"../chunks/store.7449534f.js";import"../chunks/eslint4b.es.5cc91896.js";function pt(e){let t,n,i,r=`${e[4]?100:e[7]}%`,a,u;return{c(){t=T("div"),n=T("div"),this.h()},l(c){t=z(c,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var f=I(t);n=z(f,"DIV",{class:!0}),I(n).forEach(y),f.forEach(y),this.h()},h(){b(n,"class",i="progress-bar-meter "+e[5]+" svelte-12wvf64"),ie(n,"width",r),b(t,"class",a="progress-bar "+e[6]+" svelte-12wvf64"),b(t,"data-testid","progress-bar"),b(t,"role","progressbar"),b(t,"aria-labelledby",e[3]),b(t,"aria-valuenow",e[0]),b(t,"aria-valuemin",e[1]),b(t,"aria-valuemax",u=e[2]-e[1])},m(c,f){k(c,t,f),j(t,n)},p(c,[f]){f&32&&i!==(i="progress-bar-meter "+c[5]+" svelte-12wvf64")&&b(n,"class",i),f&144&&r!==(r=`${c[4]?100:c[7]}%`)&&ie(n,"width",r),f&64&&a!==(a="progress-bar "+c[6]+" svelte-12wvf64")&&b(t,"class",a),f&8&&b(t,"aria-labelledby",c[3]),f&1&&b(t,"aria-valuenow",c[0]),f&2&&b(t,"aria-valuemin",c[1]),f&6&&u!==(u=c[2]-c[1])&&b(t,"aria-valuemax",u)},i:J,o:J,d(c){c&&y(t)}}}const gt="w-full overflow-hidden",ht="h-full";function bt(e,t,n){let i,r,a,u,c,{value:f=void 0}=t,{min:o=0}=t,{max:s=100}=t,{height:m="h-2"}=t,{rounded:g="rounded-token"}=t,{transition:E="transition-[width]"}=t,{animIndeterminate:p="anim-indeterminate"}=t,{meter:F="bg-surface-900-50-token"}=t,{track:v="bg-surface-200-700-token"}=t,{labelledby:h=""}=t;return e.$$set=d=>{n(15,t=de(de({},t),pe(d))),"value"in d&&n(0,f=d.value),"min"in d&&n(1,o=d.min),"max"in d&&n(2,s=d.max),"height"in d&&n(8,m=d.height),"rounded"in d&&n(9,g=d.rounded),"transition"in d&&n(10,E=d.transition),"animIndeterminate"in d&&n(11,p=d.animIndeterminate),"meter"in d&&n(12,F=d.meter),"track"in d&&n(13,v=d.track),"labelledby"in d&&n(3,h=d.labelledby)},e.$$.update=()=>{e.$$.dirty&7&&n(7,i=f?100*(f-o)/(s-o):0),e.$$.dirty&1&&n(4,r=f===void 0||f<0),e.$$.dirty&2064&&n(14,a=r?p:""),n(6,u=`${gt} ${v} ${m} ${g} ${t.class??""}`),e.$$.dirty&22016&&n(5,c=`${ht} ${F} ${g} ${a} ${E}`)},t=pe(t),[f,o,s,h,r,c,u,i,m,g,E,p,F,v,a]}class yt extends se{constructor(t){super(),fe(this,t,bt,pt,ue,{value:0,min:1,max:2,height:8,rounded:9,transition:10,animIndeterminate:11,meter:12,track:13,labelledby:3})}}function ee(e,t,n,i){function r(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(s){try{o(i.next(s))}catch(m){u(m)}}function f(s){try{o(i.throw(s))}catch(m){u(m)}}function o(s){s.done?a(s.value):r(s.value).then(c,f)}o((i=i.apply(e,t||[])).next())})}function te(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(o){return function(s){return f([o,s])}}function f(o){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,o[0]&&(n=0)),n;)try{if(i=1,r&&(a=o[0]&2?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,r=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){n.label=o[1];break}if(o[0]===6&&n.label<a[1]){n.label=a[1],a=o;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(o);break}a[2]&&n.ops.pop(),n.trys.pop();continue}o=t.call(e,n)}catch(s){o=[6,s],r=0}finally{i=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function ye(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,a=[],u;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){u={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return a}function ve(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var vt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function re(e,t){var n=_t(e);if(typeof n.path!="string"){var i=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof i=="string"&&i.length>0?i:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function _t(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var i=t.split(".").pop().toLowerCase(),r=vt.get(i);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}var Et=[".DS_Store","Thumbs.db"];function Dt(e){return ee(this,void 0,void 0,function(){return te(this,function(t){return oe(e)&&wt(e.dataTransfer)?[2,At(e.dataTransfer,e.type)]:kt(e)?[2,Ft(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,St(e)]:[2,[]]})})}function wt(e){return oe(e)}function kt(e){return oe(e)&&oe(e.target)}function oe(e){return typeof e=="object"&&e!==null}function Ft(e){return me(e.target.files).map(function(t){return re(t)})}function St(e){return ee(this,void 0,void 0,function(){var t;return te(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return i.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(i){return re(i)})]}})})}function At(e,t){return ee(this,void 0,void 0,function(){var n,i;return te(this,function(r){switch(r.label){case 0:return e.items?(n=me(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(Tt))]):[3,2];case 1:return i=r.sent(),[2,_e(Pe(i))];case 2:return[2,_e(me(e.files).map(function(a){return re(a)}))]}})})}function _e(e){return e.filter(function(t){return Et.indexOf(t.name)===-1})}function me(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function Tt(e){if(typeof e.webkitGetAsEntry!="function")return Ee(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Le(t):Ee(e)}function Pe(e){return e.reduce(function(t,n){return ve(ve([],ye(t),!1),ye(Array.isArray(n)?Pe(n):[n]),!1)},[])}function Ee(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=re(t);return Promise.resolve(n)}function zt(e){return ee(this,void 0,void 0,function(){return te(this,function(t){return[2,e.isDirectory?Le(e):It(e)]})})}function Le(e){var t=e.createReader();return new Promise(function(n,i){var r=[];function a(){var u=this;t.readEntries(function(c){return ee(u,void 0,void 0,function(){var f,o,s;return te(this,function(m){switch(m.label){case 0:if(c.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return f=m.sent(),n(f),[3,4];case 3:return o=m.sent(),i(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(c.map(zt)),r.push(s),a(),m.label=6;case 6:return[2]}})})},function(c){i(c)})}a()})}function It(e){return ee(this,void 0,void 0,function(){return te(this,function(t){return[2,new Promise(function(n,i){e.file(function(r){var a=re(r,e.fullPath);n(a)},function(r){i(r)})})]})})}function jt(e,t){if(e&&t){const n=Array.isArray(t)?t:t.split(","),i=e.name||"",r=(e.type||"").toLowerCase(),a=r.replace(/\/.*$/,"");return n.some(u=>{const c=u.trim().toLowerCase();return c.charAt(0)==="."?i.toLowerCase().endsWith(c):c.endsWith("/*")?a===c.replace(/\/.*$/,""):r===c})}return!0}const Ot="file-invalid-type",Ct="file-too-large",Pt="file-too-small",Lt="too-many-files",Mt=e=>{e=Array.isArray(e)&&e.length===1?e[0]:e;const t=Array.isArray(e)?`one of ${e.join(", ")}`:e;return{code:Ot,message:`File type must be ${t}`}},De=e=>({code:Ct,message:`File is larger than ${e} bytes`}),we=e=>({code:Pt,message:`File is smaller than ${e} bytes`}),Bt={code:Lt,message:"Too many files"};function Rt(e,t){const n=e.type==="application/x-moz-file"||jt(e,t);return[n,n?null:Mt(t)]}function Nt(e,t,n){if(ne(e.size))if(ne(t)&&ne(n)){if(e.size>n)return[!1,De(n)];if(e.size<t)return[!1,we(t)]}else{if(ne(t)&&e.size<t)return[!1,we(t)];if(ne(n)&&e.size>n)return[!1,De(n)]}return[!0,null]}function ne(e){return e!=null}function ke(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function le(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,t=>t==="Files"||t==="application/x-moz-file"):!!e.target&&!!e.target.files}function qt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Kt(e){return e.indexOf("Edge/")!==-1}function Gt(e=window.navigator.userAgent){return qt(e)||Kt(e)}function Vt(e){let t,n;return{c(){t=T("p"),n=G("Drag 'n' drop some files here, or click to select files")},l(i){t=z(i,"P",{});var r=I(t);n=V(r,"Drag 'n' drop some files here, or click to select files"),r.forEach(y)},m(i,r){k(i,t,r),j(t,n)},p:J,d(i){i&&y(t)}}}function xt(e){let t,n,i,r,a,u,c;const f=e[33].default,o=nt(f,e,e[32],null),s=o||Vt();return{c(){t=T("div"),n=T("input"),i=W(),s&&s.c(),this.h()},l(m){t=z(m,"DIV",{tabindex:!0,role:!0,class:!0,style:!0});var g=I(t);n=z(g,"INPUT",{accept:!0,type:!0,name:!0,autocomplete:!0,tabindex:!0,style:!0}),i=Y(g),s&&s.l(g),g.forEach(y),this.h()},h(){b(n,"accept",e[1]),n.multiple=e[2],n.required=e[7],b(n,"type","file"),b(n,"name",e[6]),b(n,"autocomplete","off"),b(n,"tabindex","-1"),ie(n,"display","none"),b(t,"tabindex","0"),b(t,"role","button"),b(t,"class",r=(e[5]?"":"dropzone")+" "+e[3]+" svelte-817dg2"),b(t,"style",e[4])},m(m,g){k(m,t,g),j(t,n),e[34](n),j(t,i),s&&s.m(t,null),e[35](t),a=!0,u||(c=[A(window,"focus",e[22]),A(window,"dragover",e[20]),A(window,"drop",e[21]),A(n,"change",e[19]),A(n,"click",Ht),A(t,"keydown",function(){K(e[11](e[12]))&&e[11](e[12]).apply(this,arguments)}),A(t,"focus",function(){K(e[11](e[13]))&&e[11](e[13]).apply(this,arguments)}),A(t,"blur",function(){K(e[11](e[14]))&&e[11](e[14]).apply(this,arguments)}),A(t,"click",function(){K(e[8](e[15]))&&e[8](e[15]).apply(this,arguments)}),A(t,"dragenter",function(){K(e[10](e[16]))&&e[10](e[16]).apply(this,arguments)}),A(t,"dragover",function(){K(e[10](e[17]))&&e[10](e[17]).apply(this,arguments)}),A(t,"dragleave",function(){K(e[10](e[18]))&&e[10](e[18]).apply(this,arguments)}),A(t,"drop",function(){K(e[10](e[19]))&&e[10](e[19]).apply(this,arguments)})],u=!0)},p(m,g){e=m,(!a||g[0]&2)&&b(n,"accept",e[1]),(!a||g[0]&4)&&(n.multiple=e[2]),(!a||g[0]&128)&&(n.required=e[7]),(!a||g[0]&64)&&b(n,"name",e[6]),o&&o.p&&(!a||g[1]&2)&&it(o,f,e,e[32],a?at(f,e[32],g,null):rt(e[32]),null),(!a||g[0]&40&&r!==(r=(e[5]?"":"dropzone")+" "+e[3]+" svelte-817dg2"))&&b(t,"class",r),(!a||g[0]&16)&&b(t,"style",e[4])},i(m){a||(O(s,m),a=!0)},o(m){L(s,m),a=!1},d(m){m&&y(t),e[34](null),s&&s.d(m),e[35](null),u=!1,lt(c)}}}function Ht(e){e.stopPropagation()}function Ut(e,t,n){let i,r,a,{$$slots:u={},$$scope:c}=t,{accept:f=void 0}=t,{disabled:o=!1}=t,{getFilesFromEvent:s=Dt}=t,{maxSize:m=1/0}=t,{minSize:g=0}=t,{multiple:E=!0}=t,{preventDropOnDocument:p=!0}=t,{noClick:F=!1}=t,{noKeyboard:v=!1}=t,{noDrag:h=!1}=t,{noDragEventsBubbling:d=!1}=t,{containerClasses:D=""}=t,{containerStyles:S=""}=t,{disableDefaultStyles:C=!1}=t,{name:M=""}=t,{inputElement:_=void 0}=t,{required:x=!1}=t;const R=ze();let w={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},B;function Me(){w.isFileDialogActive=!1,w.isDragActive=!1,w.draggedFiles=[],w.acceptedFiles=[],w.fileRejections=[]}function ce(){_&&(n(0,_.value=null,_),w.isFileDialogActive=!0,_.click())}function Be(l){!B||!B.isEqualNode(l.target)||(l.keyCode===32||l.keyCode===13)&&(l.preventDefault(),ce())}function Re(){w.isFocused=!0}function Ne(){w.isFocused=!1}function qe(){F||(Gt()?setTimeout(ce,0):ce())}function Ke(l){l.preventDefault(),ae(l),H=[...H,l.target],le(l)&&Promise.resolve(s(l)).then(N=>{ke(l)&&!d||(w.draggedFiles=N,w.isDragActive=!0,R("dragenter",{dragEvent:l}))})}function Ge(l){if(l.preventDefault(),ae(l),l.dataTransfer)try{l.dataTransfer.dropEffect="copy"}catch{}return le(l)&&R("dragover",{dragEvent:l}),!1}function Ve(l){l.preventDefault(),ae(l);const N=H.filter(q=>B&&B.contains(q)),P=N.indexOf(l.target);P!==-1&&N.splice(P,1),H=N,!(N.length>0)&&(w.isDragActive=!1,w.draggedFiles=[],le(l)&&R("dragleave",{dragEvent:l}))}function xe(l){l.preventDefault(),ae(l),H=[],le(l)&&(R("filedropped",{event:l}),Promise.resolve(s(l)).then(N=>{if(ke(l)&&!d)return;const P=[],q=[];N.forEach(U=>{const[Ze,Qe]=Rt(U,f),[Xe,$e]=Nt(U,g,m);if(Ze&&Xe)P.push(U);else{const et=[Qe,$e].filter(tt=>tt);q.push({file:U,errors:et})}}),!E&&P.length>1&&(P.forEach(U=>{q.push({file:U,errors:[Bt]})}),P.splice(0)),l.dataTransfer&&n(0,_.files=l.dataTransfer.files,_),w.acceptedFiles=P,w.fileRejections=q,R("drop",{acceptedFiles:P,fileRejections:q,event:l}),q.length>0&&R("droprejected",{fileRejections:q,event:l}),P.length>0&&R("dropaccepted",{acceptedFiles:P,event:l})})),Me()}function ae(l){d&&l.stopPropagation()}function He(l){p&&l.preventDefault()}let H=[];function Ue(l){p&&(B&&B.contains(l.target)||(l.preventDefault(),H=[]))}function We(){w.isFileDialogActive&&setTimeout(()=>{if(_){const{files:l}=_;l.length||(w.isFileDialogActive=!1,R("filedialogcancel"))}},300)}ot(()=>{n(0,_=null)});function Ye(l){ge[l?"unshift":"push"](()=>{_=l,n(0,_)})}function Je(l){ge[l?"unshift":"push"](()=>{B=l,n(9,B)})}return e.$$set=l=>{"accept"in l&&n(1,f=l.accept),"disabled"in l&&n(23,o=l.disabled),"getFilesFromEvent"in l&&n(24,s=l.getFilesFromEvent),"maxSize"in l&&n(25,m=l.maxSize),"minSize"in l&&n(26,g=l.minSize),"multiple"in l&&n(2,E=l.multiple),"preventDropOnDocument"in l&&n(27,p=l.preventDropOnDocument),"noClick"in l&&n(28,F=l.noClick),"noKeyboard"in l&&n(29,v=l.noKeyboard),"noDrag"in l&&n(30,h=l.noDrag),"noDragEventsBubbling"in l&&n(31,d=l.noDragEventsBubbling),"containerClasses"in l&&n(3,D=l.containerClasses),"containerStyles"in l&&n(4,S=l.containerStyles),"disableDefaultStyles"in l&&n(5,C=l.disableDefaultStyles),"name"in l&&n(6,M=l.name),"inputElement"in l&&n(0,_=l.inputElement),"required"in l&&n(7,x=l.required),"$$scope"in l&&n(32,c=l.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&n(8,i=l=>o?null:l),e.$$.dirty[0]&536871168&&n(11,r=l=>v?null:i(l)),e.$$.dirty[0]&1073742080&&n(10,a=l=>h?null:i(l))},[_,f,E,D,S,C,M,x,i,B,a,r,Be,Re,Ne,qe,Ke,Ge,Ve,xe,He,Ue,We,o,s,m,g,p,F,v,h,d,c,u,Ye,Je]}class Wt extends se{constructor(t){super(),fe(this,t,Ut,xt,ue,{accept:1,disabled:23,getFilesFromEvent:24,maxSize:25,minSize:26,multiple:2,preventDropOnDocument:27,noClick:28,noKeyboard:29,noDrag:30,noDragEventsBubbling:31,containerClasses:3,containerStyles:4,disableDefaultStyles:5,name:6,inputElement:0,required:7},null,[-1,-1])}}function Fe(e,t,n){const i=e.slice();return i[16]=t[n],i}function Yt(e){let t,n;return t=new mt({}),{c(){Z(t.$$.fragment)},l(i){Q(t.$$.fragment,i)},m(i,r){X(t,i,r),n=!0},p:J,i(i){n||(O(t.$$.fragment,i),n=!0)},o(i){L(t.$$.fragment,i),n=!1},d(i){$(t,i)}}}function Jt(e){let t,n,i,r,a,u,c;n=new Wt({props:{accept:e[3].accept,multiple:e[3].multiple,maxSize:e[1],$$slots:{default:[Zt]},$$scope:{ctx:e}}}),n.$on("drop",e[4]);let f=e[0]&&Te();return u=new Ce({props:{icon:dt}}),{c(){t=T("div"),Z(n.$$.fragment),i=W(),f&&f.c(),r=W(),a=T("button"),Z(u.$$.fragment),this.h()},l(o){t=z(o,"DIV",{});var s=I(t);Q(n.$$.fragment,s),i=Y(s),f&&f.l(s),s.forEach(y),r=Y(o),a=z(o,"BUTTON",{id:!0,color:!0,style:!0});var m=I(a);Q(u.$$.fragment,m),m.forEach(y),this.h()},h(){b(a,"id",e[2]),b(a,"color","primary"),ie(a,"display","none")},m(o,s){k(o,t,s),X(n,t,null),j(t,i),f&&f.m(t,null),k(o,r,s),k(o,a,s),X(u,a,null),c=!0},p(o,s){const m={};s&8&&(m.accept=o[3].accept),s&8&&(m.multiple=o[3].multiple),s&2&&(m.maxSize=o[1]),s&524296&&(m.$$scope={dirty:s,ctx:o}),n.$set(m),o[0]?f?(f.p(o,s),s&1&&O(f,1)):(f=Te(),f.c(),O(f,1),f.m(t,null)):f&&(Ie(),L(f,1,1,()=>{f=null}),je()),(!c||s&4)&&b(a,"id",o[2])},i(o){c||(O(n.$$.fragment,o),O(f),O(u.$$.fragment,o),c=!0)},o(o){L(n.$$.fragment,o),L(f),L(u.$$.fragment,o),c=!1},d(o){o&&y(t),$(n),f&&f.d(),o&&y(r),o&&y(a),$(u)}}}function Se(e){let t,n=e[3].accept,i=[];for(let r=0;r<n.length;r+=1)i[r]=Ae(Fe(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=he()},l(r){for(let a=0;a<i.length;a+=1)i[a].l(r);t=he()},m(r,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(r,a);k(r,t,a)},p(r,a){if(a&8){n=r[3].accept;let u;for(u=0;u<n.length;u+=1){const c=Fe(r,n,u);i[u]?i[u].p(c,a):(i[u]=Ae(c),i[u].c(),i[u].m(t.parentNode,t))}for(;u<i.length;u+=1)i[u].d(1);i.length=n.length}},d(r){ut(i,r),r&&y(t)}}}function Ae(e){let t=e[16]+"",n,i;return{c(){n=G(t),i=G(" ,")},l(r){n=V(r,t),i=V(r," ,")},m(r,a){k(r,n,a),k(r,i,a)},p(r,a){a&8&&t!==(t=r[16]+"")&&Oe(n,t)},d(r){r&&y(n),r&&y(i)}}}function Zt(e){let t,n,i,r,a,u,c,f,o,s=e[3].maxSize+"",m,g,E,p,F;n=new Ce({props:{icon:ct}});let v=e[3].accept&&Se(e);return{c(){t=T("b"),Z(n.$$.fragment),i=W(),r=T("span"),a=T("b"),u=G("Drag 'n' drop some files here, or click to select files"),c=W(),f=T("b"),o=G("(max file size: "),m=G(s),g=G(" mb)"),E=W(),p=T("p"),v&&v.c(),this.h()},l(h){t=z(h,"B",{style:!0});var d=I(t);Q(n.$$.fragment,d),d.forEach(y),i=Y(h),r=z(h,"SPAN",{});var D=I(r);a=z(D,"B",{});var S=I(a);u=V(S,"Drag 'n' drop some files here, or click to select files"),S.forEach(y),c=Y(D),f=z(D,"B",{});var C=I(f);o=V(C,"(max file size: "),m=V(C,s),g=V(C," mb)"),C.forEach(y),D.forEach(y),E=Y(h),p=z(h,"P",{});var M=I(p);v&&v.l(M),M.forEach(y),this.h()},h(){ie(t,"font-size","xx-large")},m(h,d){k(h,t,d),X(n,t,null),k(h,i,d),k(h,r,d),j(r,a),j(a,u),j(r,c),j(r,f),j(f,o),j(f,m),j(f,g),k(h,E,d),k(h,p,d),v&&v.m(p,null),F=!0},p(h,d){(!F||d&8)&&s!==(s=h[3].maxSize+"")&&Oe(m,s),h[3].accept?v?v.p(h,d):(v=Se(h),v.c(),v.m(p,null)):v&&(v.d(1),v=null)},i(h){F||(O(n.$$.fragment,h),F=!0)},o(h){L(n.$$.fragment,h),F=!1},d(h){h&&y(t),$(n),h&&y(i),h&&y(r),h&&y(E),h&&y(p),v&&v.d()}}}function Te(e){let t,n;return t=new yt({props:{value:void 0}}),{c(){Z(t.$$.fragment)},l(i){Q(t.$$.fragment,i)},m(i,r){X(t,i,r),n=!0},p:J,i(i){n||(O(t.$$.fragment,i),n=!0)},o(i){L(t.$$.fragment,i),n=!1},d(i){$(t,i)}}}function Qt(e){let t,n,i,r,a,u;const c=[Jt,Yt],f=[];function o(s,m){return s[3]?0:1}return n=o(e),i=f[n]=c[n](e),{c(){t=T("form"),i.c()},l(s){t=z(s,"FORM",{});var m=I(t);i.l(m),m.forEach(y)},m(s,m){k(s,t,m),f[n].m(t,null),r=!0,a||(u=A(t,"submit",st(e[5])),a=!0)},p(s,[m]){let g=n;n=o(s),n===g?f[n].p(s,m):(Ie(),L(f[g],1,1,()=>{f[g]=null}),je(),i=f[n],i?i.p(s,m):(i=f[n]=c[n](s),i.c()),O(i,1),i.m(t,null))},i(s){r||(O(i),r=!0)},o(s){L(i),r=!1},d(s){s&&y(t),f[n].d(),a=!1,u()}}}function Xt(e){let t="";t=e.file.path+" : ";let n=e.errors;for(let i=0;i<n.length;i++){const r=n[i];t+=r.message}return t}function $t(e,t,n){let i,r,{id:a=0}=t,{version:u=1}=t,{start:c=""}=t,{submit:f=""}=t,{context:o=""}=t,{data:s}=t,m=!1,g=0;const E=ze();let p={accepted:[],rejected:[]};ft(async()=>{s?n(3,i=s):F(),i&&(n(2,r+=o),n(1,g=i.maxSize*1024*1024))});async function F(){let d=c+"?id="+a+"&version="+u;const D=await be.get(d);n(3,i=await D.data()),console.log("fileupload",i)}function v(d){var C;console.log("files",p);const{acceptedFiles:D,fileRejections:S}=d.detail;if(n(12,p.accepted=[...p.accepted,...D],p),n(12,p.rejected=[...p.rejected,...S],p),console.log("files.accepted",p.accepted),S.length>0){console.log(p.rejected);let M=[""];for(let _=0;_<S.length;_++){const x=S[_];M.push(Xt(x))}E("error",{messages:M}),n(12,p.rejected=[],p)}D.length>0&&((C=document.getElementById(r))==null||C.click())}async function h(){E("submit"),n(0,m=!0);let d=f+"?id="+a;if(p.accepted.length>0){const S=new FormData;S.append("files","123");for(var D=0;D<p.accepted.length;D++)S.append(p.accepted[D].name,p.accepted[D]);if((await be.post(d,S)).status==200){E("submited");let M=p.accepted.length+" is/are uploaded",_=[];p.accepted.forEach(x=>_.push(x.name)),E("success",{text:M,files:_}),n(12,p.accepted=[],p)}}n(0,m=!1)}return e.$$set=d=>{"id"in d&&n(6,a=d.id),"version"in d&&n(7,u=d.version),"start"in d&&n(8,c=d.start),"submit"in d&&n(9,f=d.submit),"context"in d&&n(10,o=d.context),"data"in d&&n(11,s=d.data)},e.$$.update=()=>{e.$$.dirty&2048&&n(3,i=s),e.$$.dirty&4096},n(2,r="submit"),[m,g,r,i,v,h,a,u,c,f,o,s,p]}class en extends se{constructor(t){super(),fe(this,t,$t,Qt,ue,{id:6,version:7,start:8,submit:9,context:10,data:11})}}function tn(e){let t,n,i;return n=new en({props:{data:e[0]}}),{c(){t=T("div"),Z(n.$$.fragment)},l(r){t=z(r,"DIV",{});var a=I(t);Q(n.$$.fragment,a),a.forEach(y)},m(r,a){k(r,t,a),X(n,t,null),i=!0},p:J,i(r){i||(O(n.$$.fragment,r),i=!0)},o(r){L(n.$$.fragment,r),i=!1},d(r){r&&y(t),$(n)}}}function nn(e){return[{accept:[".csv"],multiple:!0,existingFiles:[],descriptionType:0,maxSize:1024}]}class pn extends se{constructor(t){super(),fe(this,t,nn,tn,ue,{})}}export{pn as component};
