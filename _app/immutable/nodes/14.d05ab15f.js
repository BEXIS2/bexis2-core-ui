import{S as ne,i as re,s as ie,k as I,l as A,m as C,h as p,n as _,p as X,b as S,F as P,Z as W,J as fe,K as ue,E as xe,a as V,c as U,N as T,G as $e,H as et,I as tt,g as z,d as M,P as nt,a4 as ke,a5 as rt,w as ce,q as N,r as q,a7 as it,v as Fe,f as we,o as lt,y as H,z as Y,A as J,B as Z,u as Se,e as me,a0 as at}from"../chunks/index.9a980381.js";/* empty css                                                       */import{F as Te,k as st}from"../chunks/index.7f473b84.js";import{S as ot}from"../chunks/Spinner.41c52a3c.js";import{f as ft}from"../chunks/index.e61a411c.js";import{A as de}from"../chunks/pageStores.d35f08c9.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.61f4aed8.js";/* empty css                                                     */import"../chunks/store.67fa4f90.js";import"../chunks/eslint4b.es.5cc91896.js";function ut(n){let e,t,r,i=`${n[4]?100:n[7]}%`,l,u;return{c(){e=I("div"),t=I("div"),this.h()},l(m){e=A(m,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var f=C(e);t=A(f,"DIV",{class:!0}),C(t).forEach(p),f.forEach(p),this.h()},h(){_(t,"class",r="progress-bar-meter "+n[5]+" svelte-12wvf64"),X(t,"width",i),_(e,"class",l="progress-bar "+n[6]+" svelte-12wvf64"),_(e,"data-testid","progress-bar"),_(e,"role","progressbar"),_(e,"aria-labelledby",n[3]),_(e,"aria-valuenow",n[0]),_(e,"aria-valuemin",n[1]),_(e,"aria-valuemax",u=n[2]-n[1])},m(m,f){S(m,e,f),P(e,t)},p(m,[f]){f&32&&r!==(r="progress-bar-meter "+m[5]+" svelte-12wvf64")&&_(t,"class",r),f&144&&i!==(i=`${m[4]?100:m[7]}%`)&&X(t,"width",i),f&64&&l!==(l="progress-bar "+m[6]+" svelte-12wvf64")&&_(e,"class",l),f&8&&_(e,"aria-labelledby",m[3]),f&1&&_(e,"aria-valuenow",m[0]),f&2&&_(e,"aria-valuemin",m[1]),f&6&&u!==(u=m[2]-m[1])&&_(e,"aria-valuemax",u)},i:W,o:W,d(m){m&&p(e)}}}const ct="w-full overflow-hidden",mt="h-full";function dt(n,e,t){let r,i,l,u,m,{value:f=void 0}=e,{min:s=0}=e,{max:o=100}=e,{height:c="h-2"}=e,{rounded:h="rounded-token"}=e,{transition:D="transition-[width]"}=e,{animIndeterminate:g="anim-indeterminate"}=e,{meter:k="bg-surface-900-50-token"}=e,{track:y="bg-surface-200-700-token"}=e,{labelledby:b=""}=e;return n.$$set=d=>{t(15,e=fe(fe({},e),ue(d))),"value"in d&&t(0,f=d.value),"min"in d&&t(1,s=d.min),"max"in d&&t(2,o=d.max),"height"in d&&t(8,c=d.height),"rounded"in d&&t(9,h=d.rounded),"transition"in d&&t(10,D=d.transition),"animIndeterminate"in d&&t(11,g=d.animIndeterminate),"meter"in d&&t(12,k=d.meter),"track"in d&&t(13,y=d.track),"labelledby"in d&&t(3,b=d.labelledby)},n.$$.update=()=>{n.$$.dirty&7&&t(7,r=f?100*(f-s)/(o-s):0),n.$$.dirty&1&&t(4,i=f===void 0||f<0),n.$$.dirty&2064&&t(14,l=i?g:""),t(6,u=`${ct} ${y} ${c} ${h} ${e.class??""}`),n.$$.dirty&22016&&t(5,m=`${mt} ${k} ${h} ${l} ${D}`)},e=ue(e),[f,s,o,b,i,m,u,r,c,h,D,g,k,y,l]}class gt extends ne{constructor(e){super(),re(this,e,dt,ut,ie,{value:0,min:1,max:2,height:8,rounded:9,transition:10,animIndeterminate:11,meter:12,track:13,labelledby:3})}}function x(n,e,t,r){function i(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function m(o){try{s(r.next(o))}catch(c){u(c)}}function f(o){try{s(r.throw(o))}catch(c){u(c)}}function s(o){o.done?l(o.value):i(o.value).then(m,f)}s((r=r.apply(n,e||[])).next())})}function $(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,i,l,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(s){return function(o){return f([s,o])}}function f(s){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(t=0)),t;)try{if(r=1,i&&(l=s[0]&2?i.return:s[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,s[1])).done)return l;switch(i=0,l&&(s=[s[0]&2,l.value]),s[0]){case 0:case 1:l=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!l||s[1]>l[0]&&s[1]<l[3])){t.label=s[1];break}if(s[0]===6&&t.label<l[1]){t.label=l[1],l=s;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(s);break}l[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(n,t)}catch(o){s=[6,o],i=0}finally{r=l=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function ht(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,l=[],u;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)l.push(i.value)}catch(m){u={error:m}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(u)throw u.error}}return l}function bt(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(ht(arguments[e]));return n}var _t=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function le(n,e){var t=pt(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function pt(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=_t.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var yt=[".DS_Store","Thumbs.db"];function vt(n){return x(this,void 0,void 0,function(){return $(this,function(e){return[2,Et(n)&&n.dataTransfer?Ft(n.dataTransfer,n.type):Dt(n)]})})}function Et(n){return!!n.dataTransfer}function Dt(n){var e=kt(n.target)?n.target.files?oe(n.target.files):[]:[];return e.map(function(t){return le(t)})}function kt(n){return n!==null}function Ft(n,e){return x(this,void 0,void 0,function(){var t,r;return $(this,function(i){switch(i.label){case 0:return n.items?(t=oe(n.items).filter(function(l){return l.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(wt))]):[3,2];case 1:return r=i.sent(),[2,ge(Ie(r))];case 2:return[2,ge(oe(n.files).map(function(l){return le(l)}))]}})})}function ge(n){return n.filter(function(e){return yt.indexOf(e.name)===-1})}function oe(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function wt(n){if(typeof n.webkitGetAsEntry!="function")return he(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?Ae(e):he(n)}function Ie(n){return n.reduce(function(e,t){return bt(e,Array.isArray(t)?Ie(t):[t])},[])}function he(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=le(e);return Promise.resolve(t)}function St(n){return x(this,void 0,void 0,function(){return $(this,function(e){return[2,n.isDirectory?Ae(n):Tt(n)]})})}function Ae(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function l(){var u=this;e.readEntries(function(m){return x(u,void 0,void 0,function(){var f,s,o;return $(this,function(c){switch(c.label){case 0:if(m.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return f=c.sent(),t(f),[3,4];case 3:return s=c.sent(),r(s),[3,4];case 4:return[3,6];case 5:o=Promise.all(m.map(St)),i.push(o),l(),c.label=6;case 6:return[2]}})})},function(m){r(m)})}l()})}function Tt(n){return x(this,void 0,void 0,function(){return $(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var l=le(i,n.fullPath);t(l)},function(i){r(i)})})]})})}function It(n,e){if(n&&e){const t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),l=i.replace(/\/.*$/,"");return t.some(u=>{const m=u.trim().toLowerCase();return m.charAt(0)==="."?r.toLowerCase().endsWith(m):m.endsWith("/*")?l===m.replace(/\/.*$/,""):i===m})}return!0}const At="file-invalid-type",Ot="file-too-large",Ct="file-too-small",Pt="too-many-files",zt=n=>{n=Array.isArray(n)&&n.length===1?n[0]:n;const e=Array.isArray(n)?`one of ${n.join(", ")}`:n;return{code:At,message:`File type must be ${e}`}},be=n=>({code:Ot,message:`File is larger than ${n} bytes`}),_e=n=>({code:Ct,message:`File is smaller than ${n} bytes`}),jt={code:Pt,message:"Too many files"};function Lt(n,e){const t=n.type==="application/x-moz-file"||It(n,e);return[t,t?null:zt(e)]}function Mt(n,e,t){if(Q(n.size))if(Q(e)&&Q(t)){if(n.size>t)return[!1,be(t)];if(n.size<e)return[!1,_e(e)]}else{if(Q(e)&&n.size<e)return[!1,_e(e)];if(Q(t)&&n.size>t)return[!1,be(t)]}return[!0,null]}function Q(n){return n!=null}function pe(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function te(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,e=>e==="Files"||e==="application/x-moz-file"):!!n.target&&!!n.target.files}function Bt(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Rt(n){return n.indexOf("Edge/")!==-1}function Nt(n=window.navigator.userAgent){return Bt(n)||Rt(n)}function qt(n){let e,t;return{c(){e=I("p"),t=N("Drag 'n' drop some files here, or click to select files")},l(r){e=A(r,"P",{});var i=C(e);t=q(i,"Drag 'n' drop some files here, or click to select files"),i.forEach(p)},m(r,i){S(r,e,i),P(e,t)},p:W,d(r){r&&p(e)}}}function Kt(n){let e,t,r,i,l,u,m;const f=n[33].default,s=xe(f,n,n[32],null),o=s||qt();return{c(){e=I("div"),t=I("input"),r=V(),o&&o.c(),this.h()},l(c){e=A(c,"DIV",{tabindex:!0,role:!0,class:!0,style:!0});var h=C(e);t=A(h,"INPUT",{accept:!0,type:!0,name:!0,autocomplete:!0,tabindex:!0,style:!0}),r=U(h),o&&o.l(h),h.forEach(p),this.h()},h(){_(t,"accept",n[1]),t.multiple=n[2],t.required=n[7],_(t,"type","file"),_(t,"name",n[6]),_(t,"autocomplete","off"),_(t,"tabindex","-1"),X(t,"display","none"),_(e,"tabindex","0"),_(e,"role","button"),_(e,"class",i=(n[5]?"":"dropzone")+" "+n[3]+" svelte-817dg2"),_(e,"style",n[4])},m(c,h){S(c,e,h),P(e,t),n[34](t),P(e,r),o&&o.m(e,null),n[35](e),l=!0,u||(m=[T(window,"focus",n[22]),T(window,"dragover",n[20]),T(window,"drop",n[21]),T(t,"change",n[16]),T(t,"click",Gt),T(e,"keydown",n[18](n[9])),T(e,"focus",n[18](n[10])),T(e,"blur",n[18](n[11])),T(e,"click",n[17](n[12])),T(e,"dragenter",n[19](n[13])),T(e,"dragover",n[19](n[14])),T(e,"dragleave",n[19](n[15])),T(e,"drop",n[19](n[16]))],u=!0)},p(c,h){(!l||h[0]&2)&&_(t,"accept",c[1]),(!l||h[0]&4)&&(t.multiple=c[2]),(!l||h[0]&128)&&(t.required=c[7]),(!l||h[0]&64)&&_(t,"name",c[6]),s&&s.p&&(!l||h[1]&2)&&$e(s,f,c,c[32],l?tt(f,c[32],h,null):et(c[32]),null),(!l||h[0]&40&&i!==(i=(c[5]?"":"dropzone")+" "+c[3]+" svelte-817dg2"))&&_(e,"class",i),(!l||h[0]&16)&&_(e,"style",c[4])},i(c){l||(z(o,c),l=!0)},o(c){M(o,c),l=!1},d(c){c&&p(e),n[34](null),o&&o.d(c),n[35](null),u=!1,nt(m)}}}function Gt(n){n.stopPropagation()}function Vt(n,e,t){let{$$slots:r={},$$scope:i}=e,{accept:l}=e,{disabled:u=!1}=e,{getFilesFromEvent:m=vt}=e,{maxSize:f=1/0}=e,{minSize:s=0}=e,{multiple:o=!0}=e,{preventDropOnDocument:c=!0}=e,{noClick:h=!1}=e,{noKeyboard:D=!1}=e,{noDrag:g=!1}=e,{noDragEventsBubbling:k=!1}=e,{containerClasses:y=""}=e,{containerStyles:b=""}=e,{disableDefaultStyles:d=!1}=e,{name:F=""}=e,{inputElement:v}=e,{required:j=!1}=e;const w=ke();let E={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},O;function Oe(){E.isFileDialogActive=!1,E.isDragActive=!1,E.draggedFiles=[],E.acceptedFiles=[],E.fileRejections=[]}function ae(){v&&(t(0,v.value=null,v),E.isFileDialogActive=!0,v.click())}function Ce(a){!O||!O.isEqualNode(a.target)||(a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),ae())}function Pe(){E.isFocused=!0}function ze(){E.isFocused=!1}function je(){h||(Nt()?setTimeout(ae,0):ae())}function Le(a){a.preventDefault(),ee(a),K=[...K,a.target],te(a)&&Promise.resolve(m(a)).then(B=>{pe(a)&&!k||(E.draggedFiles=B,E.isDragActive=!0,w("dragenter",{dragEvent:a}))})}function Me(a){if(a.preventDefault(),ee(a),a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return te(a)&&w("dragover",{dragEvent:a}),!1}function Be(a){a.preventDefault(),ee(a);const B=K.filter(R=>O&&O.contains(R)),L=B.indexOf(a.target);L!==-1&&B.splice(L,1),K=B,!(B.length>0)&&(E.isDragActive=!1,E.draggedFiles=[],te(a)&&w("dragleave",{dragEvent:a}))}function Re(a){a.preventDefault(),ee(a),K=[],te(a)&&(w("filedropped",{event:a}),Promise.resolve(m(a)).then(B=>{if(pe(a)&&!k)return;const L=[],R=[];B.forEach(G=>{const[He,Ye]=Lt(G,l),[Je,Ze]=Mt(G,s,f);if(He&&Je)L.push(G);else{const Qe=[Ye,Ze].filter(Xe=>Xe);R.push({file:G,errors:Qe})}}),!o&&L.length>1&&(L.forEach(G=>{R.push({file:G,errors:[jt]})}),L.splice(0)),a.dataTransfer&&t(0,v.files=a.dataTransfer.files,v),E.acceptedFiles=L,E.fileRejections=R,w("drop",{acceptedFiles:L,fileRejections:R,event:a}),R.length>0&&w("droprejected",{fileRejections:R,event:a}),L.length>0&&w("dropaccepted",{acceptedFiles:L,event:a})})),Oe()}function se(a){return u?null:a}function Ne(a){return D?null:se(a)}function qe(a){return g?null:se(a)}function ee(a){k&&a.stopPropagation()}function Ke(a){c&&a.preventDefault()}let K=[];function Ge(a){c&&(O&&O.contains(a.target)||(a.preventDefault(),K=[]))}function Ve(){E.isFileDialogActive&&setTimeout(()=>{if(v){const{files:a}=v;a.length||(E.isFileDialogActive=!1,w("filedialogcancel"))}},300)}rt(()=>{t(0,v=null)});function Ue(a){ce[a?"unshift":"push"](()=>{v=a,t(0,v)})}function We(a){ce[a?"unshift":"push"](()=>{O=a,t(8,O)})}return n.$$set=a=>{"accept"in a&&t(1,l=a.accept),"disabled"in a&&t(23,u=a.disabled),"getFilesFromEvent"in a&&t(24,m=a.getFilesFromEvent),"maxSize"in a&&t(25,f=a.maxSize),"minSize"in a&&t(26,s=a.minSize),"multiple"in a&&t(2,o=a.multiple),"preventDropOnDocument"in a&&t(27,c=a.preventDropOnDocument),"noClick"in a&&t(28,h=a.noClick),"noKeyboard"in a&&t(29,D=a.noKeyboard),"noDrag"in a&&t(30,g=a.noDrag),"noDragEventsBubbling"in a&&t(31,k=a.noDragEventsBubbling),"containerClasses"in a&&t(3,y=a.containerClasses),"containerStyles"in a&&t(4,b=a.containerStyles),"disableDefaultStyles"in a&&t(5,d=a.disableDefaultStyles),"name"in a&&t(6,F=a.name),"inputElement"in a&&t(0,v=a.inputElement),"required"in a&&t(7,j=a.required),"$$scope"in a&&t(32,i=a.$$scope)},[v,l,o,y,b,d,F,j,O,Ce,Pe,ze,je,Le,Me,Be,Re,se,Ne,qe,Ke,Ge,Ve,u,m,f,s,c,h,D,g,k,i,r,Ue,We]}class Ut extends ne{constructor(e){super(),re(this,e,Vt,Kt,ie,{accept:1,disabled:23,getFilesFromEvent:24,maxSize:25,minSize:26,multiple:2,preventDropOnDocument:27,noClick:28,noKeyboard:29,noDrag:30,noDragEventsBubbling:31,containerClasses:3,containerStyles:4,disableDefaultStyles:5,name:6,inputElement:0,required:7},null,[-1,-1])}}function ye(n,e,t){const r=n.slice();return r[16]=e[t],r}function Wt(n){let e,t;return e=new ot({}),{c(){H(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){J(e,r,i),t=!0},p:W,i(r){t||(z(e.$$.fragment,r),t=!0)},o(r){M(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Ht(n){let e,t,r,i,l,u,m;t=new Ut({props:{accept:n[3].accept,multiple:n[3].multiple,maxSize:n[1],$$slots:{default:[Yt]},$$scope:{ctx:n}}}),t.$on("drop",n[4]);let f=n[0]&&De();return u=new Te({props:{icon:ft}}),{c(){e=I("div"),H(t.$$.fragment),r=V(),f&&f.c(),i=V(),l=I("button"),H(u.$$.fragment),this.h()},l(s){e=A(s,"DIV",{});var o=C(e);Y(t.$$.fragment,o),r=U(o),f&&f.l(o),o.forEach(p),i=U(s),l=A(s,"BUTTON",{id:!0,color:!0,style:!0});var c=C(l);Y(u.$$.fragment,c),c.forEach(p),this.h()},h(){_(l,"id",n[2]),_(l,"color","primary"),X(l,"display","none")},m(s,o){S(s,e,o),J(t,e,null),P(e,r),f&&f.m(e,null),S(s,i,o),S(s,l,o),J(u,l,null),m=!0},p(s,o){const c={};o&8&&(c.accept=s[3].accept),o&8&&(c.multiple=s[3].multiple),o&2&&(c.maxSize=s[1]),o&524296&&(c.$$scope={dirty:o,ctx:s}),t.$set(c),s[0]?f?(f.p(s,o),o&1&&z(f,1)):(f=De(),f.c(),z(f,1),f.m(e,null)):f&&(Fe(),M(f,1,1,()=>{f=null}),we()),(!m||o&4)&&_(l,"id",s[2])},i(s){m||(z(t.$$.fragment,s),z(f),z(u.$$.fragment,s),m=!0)},o(s){M(t.$$.fragment,s),M(f),M(u.$$.fragment,s),m=!1},d(s){s&&p(e),Z(t),f&&f.d(),s&&p(i),s&&p(l),Z(u)}}}function ve(n){let e,t=n[3].accept,r=[];for(let i=0;i<t.length;i+=1)r[i]=Ee(ye(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=me()},l(i){for(let l=0;l<r.length;l+=1)r[l].l(i);e=me()},m(i,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(i,l);S(i,e,l)},p(i,l){if(l&8){t=i[3].accept;let u;for(u=0;u<t.length;u+=1){const m=ye(i,t,u);r[u]?r[u].p(m,l):(r[u]=Ee(m),r[u].c(),r[u].m(e.parentNode,e))}for(;u<r.length;u+=1)r[u].d(1);r.length=t.length}},d(i){at(r,i),i&&p(e)}}}function Ee(n){let e=n[16]+"",t,r;return{c(){t=N(e),r=N(" ,")},l(i){t=q(i,e),r=q(i," ,")},m(i,l){S(i,t,l),S(i,r,l)},p(i,l){l&8&&e!==(e=i[16]+"")&&Se(t,e)},d(i){i&&p(t),i&&p(r)}}}function Yt(n){let e,t,r,i,l,u,m,f,s,o=n[3].maxSize+"",c,h,D,g,k;t=new Te({props:{icon:st}});let y=n[3].accept&&ve(n);return{c(){e=I("b"),H(t.$$.fragment),r=V(),i=I("span"),l=I("b"),u=N("Drag 'n' drop some files here, or click to select files"),m=V(),f=I("b"),s=N("(max file size: "),c=N(o),h=N(" mb)"),D=V(),g=I("p"),y&&y.c(),this.h()},l(b){e=A(b,"B",{style:!0});var d=C(e);Y(t.$$.fragment,d),d.forEach(p),r=U(b),i=A(b,"SPAN",{});var F=C(i);l=A(F,"B",{});var v=C(l);u=q(v,"Drag 'n' drop some files here, or click to select files"),v.forEach(p),m=U(F),f=A(F,"B",{});var j=C(f);s=q(j,"(max file size: "),c=q(j,o),h=q(j," mb)"),j.forEach(p),F.forEach(p),D=U(b),g=A(b,"P",{});var w=C(g);y&&y.l(w),w.forEach(p),this.h()},h(){X(e,"font-size","xx-large")},m(b,d){S(b,e,d),J(t,e,null),S(b,r,d),S(b,i,d),P(i,l),P(l,u),P(i,m),P(i,f),P(f,s),P(f,c),P(f,h),S(b,D,d),S(b,g,d),y&&y.m(g,null),k=!0},p(b,d){(!k||d&8)&&o!==(o=b[3].maxSize+"")&&Se(c,o),b[3].accept?y?y.p(b,d):(y=ve(b),y.c(),y.m(g,null)):y&&(y.d(1),y=null)},i(b){k||(z(t.$$.fragment,b),k=!0)},o(b){M(t.$$.fragment,b),k=!1},d(b){b&&p(e),Z(t),b&&p(r),b&&p(i),b&&p(D),b&&p(g),y&&y.d()}}}function De(n){let e,t;return e=new gt({props:{value:void 0}}),{c(){H(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,i){J(e,r,i),t=!0},p:W,i(r){t||(z(e.$$.fragment,r),t=!0)},o(r){M(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Jt(n){let e,t,r,i,l,u;const m=[Ht,Wt],f=[];function s(o,c){return o[3]?0:1}return t=s(n),r=f[t]=m[t](n),{c(){e=I("form"),r.c()},l(o){e=A(o,"FORM",{});var c=C(e);r.l(c),c.forEach(p)},m(o,c){S(o,e,c),f[t].m(e,null),i=!0,l||(u=T(e,"submit",it(n[5])),l=!0)},p(o,[c]){let h=t;t=s(o),t===h?f[t].p(o,c):(Fe(),M(f[h],1,1,()=>{f[h]=null}),we(),r=f[t],r?r.p(o,c):(r=f[t]=m[t](o),r.c()),z(r,1),r.m(e,null))},i(o){i||(z(r),i=!0)},o(o){M(r),i=!1},d(o){o&&p(e),f[t].d(),l=!1,u()}}}function Zt(n){let e="";e=n.file.path+" : ";let t=n.errors;for(let r=0;r<t.length;r++){const i=t[r];e+=i.message}return e}function Qt(n,e,t){let r,i,{id:l=0}=e,{version:u=1}=e,{start:m=""}=e,{submit:f=""}=e,{context:s=""}=e,{data:o}=e,c=!1,h=0;const D=ke();let g={accepted:[],rejected:[]};lt(async()=>{o?t(3,r=o):k(),r&&(t(2,i+=s),t(1,h=r.maxSize*1024*1024))});async function k(){let d=m+"?id="+l+"&version="+u;const F=await de.get(d);t(3,r=await F.data()),console.log("fileupload",r)}function y(d){var j;console.log("files",g);const{acceptedFiles:F,fileRejections:v}=d.detail;if(t(12,g.accepted=[...g.accepted,...F],g),t(12,g.rejected=[...g.rejected,...v],g),console.log("files.accepted",g.accepted),v.length>0){console.log(g.rejected);let w=[""];for(let E=0;E<v.length;E++){const O=v[E];w.push(Zt(O))}D("error",{messages:w}),t(12,g.rejected=[],g)}F.length>0&&((j=document.getElementById(i))==null||j.click())}async function b(){D("submit"),t(0,c=!0);let d=f+"?id="+l;if(g.accepted.length>0){const v=new FormData;v.append("files","123");for(var F=0;F<g.accepted.length;F++)v.append(g.accepted[F].name,g.accepted[F]);if((await de.post(d,v)).status==200){D("submited");let w=g.accepted.length+" is/are uploaded",E=[];g.accepted.forEach(O=>E.push(O.name)),D("success",{text:w,files:E}),t(12,g.accepted=[],g)}}t(0,c=!1)}return n.$$set=d=>{"id"in d&&t(6,l=d.id),"version"in d&&t(7,u=d.version),"start"in d&&t(8,m=d.start),"submit"in d&&t(9,f=d.submit),"context"in d&&t(10,s=d.context),"data"in d&&t(11,o=d.data)},n.$$.update=()=>{n.$$.dirty&2048&&t(3,r=o),n.$$.dirty&4096},t(2,i="submit"),[c,h,i,r,y,b,l,u,m,f,s,o,g]}class Xt extends ne{constructor(e){super(),re(this,e,Qt,Jt,ie,{id:6,version:7,start:8,submit:9,context:10,data:11})}}function xt(n){let e,t,r;return t=new Xt({props:{data:n[0]}}),{c(){e=I("div"),H(t.$$.fragment)},l(i){e=A(i,"DIV",{});var l=C(e);Y(t.$$.fragment,l),l.forEach(p)},m(i,l){S(i,e,l),J(t,e,null),r=!0},p:W,i(i){r||(z(t.$$.fragment,i),r=!0)},o(i){M(t.$$.fragment,i),r=!1},d(i){i&&p(e),Z(t)}}}function $t(n){return[{accept:[".csv"],multiple:!0,existingFiles:[],descriptionType:0,maxSize:1024}]}class cn extends ne{constructor(e){super(),re(this,e,$t,xt,ie,{})}}export{cn as component};
