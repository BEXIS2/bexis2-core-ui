import{w as St}from"./index.7a9a3408.js";import{an as Dt}from"./index.bfb1ec04.js";const Ct=St(void 0);function jt(t,e){const{computePosition:o,autoUpdate:n,offset:i,shift:r,flip:s,arrow:l,size:a,autoPlacement:c,hide:m,inline:u}=Dt(Ct),d={open:!1,autoUpdateCleanup:()=>{}},p=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let y;const h="https://www.skeleton.dev/utilities/popups";let f,w;function b(){f=document.querySelector(`[data-popup="${e.target}"]`)??document.createElement("div"),w=f.querySelector(".arrow")??document.createElement("div")}b();function E(){var L,v,k,H,F,S,R,M;if(!f)throw new Error(`The data-popup="${e.target}" element was not found. ${h}`);if(!o)throw new Error(`Floating UI 'computePosition' not found for data-popup="${e.target}". ${h}`);if(!i)throw new Error(`Floating UI 'offset' not found for data-popup="${e.target}". ${h}`);if(!r)throw new Error(`Floating UI 'shift' not found for data-popup="${e.target}". ${h}`);if(!s)throw new Error(`Floating UI 'flip' not found for data-popup="${e.target}". ${h}`);if(!l)throw new Error(`Floating UI 'arrow' not found for data-popup="${e.target}". ${h}`);const g=[];a&&g.push(a((L=e.middleware)==null?void 0:L.size)),c&&g.push(c((v=e.middleware)==null?void 0:v.autoPlacement)),m&&g.push(m((k=e.middleware)==null?void 0:k.hide)),u&&g.push(u((H=e.middleware)==null?void 0:H.inline)),o(t,f,{placement:e.placement??"bottom",middleware:[i(((F=e.middleware)==null?void 0:F.offset)??8),r(((S=e.middleware)==null?void 0:S.shift)??{padding:8}),s((R=e.middleware)==null?void 0:R.flip),l(((M=e.middleware)==null?void 0:M.arrow)??{element:w||null}),...g]}).then(({x:_,y:rt,placement:G,middlewareData:J})=>{if(Object.assign(f.style,{left:`${_}px`,top:`${rt}px`}),w){const{x:Z,y:N}=J.arrow,At={top:"bottom",right:"left",bottom:"top",left:"right"}[G.split("-")[0]];Object.assign(w.style,{left:Z!=null?`${Z}px`:"",top:N!=null?`${N}px`:"",right:"",bottom:"",[At]:"-4px"})}})}function $(){f&&(d.open=!0,e.state&&e.state({state:d.open}),E(),f.style.display="block",f.style.opacity="1",f.style.pointerEvents="auto",d.autoUpdateCleanup=n(t,f,E),y=Array.from(f==null?void 0:f.querySelectorAll(p)))}function x(g){if(!f)return;const L=parseFloat(window.getComputedStyle(f).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{d.open=!1,e.state&&e.state({state:d.open}),f.style.opacity="0",f.style.pointerEvents="none",d.autoUpdateCleanup&&d.autoUpdateCleanup(),g&&g()},L)}function T(){d.open===!1?$():x()}function C(g){if(d.open===!1||t.contains(g.target))return;if(f&&f.contains(g.target)===!1){x();return}const L=e.closeQuery===void 0?"a[href], button":e.closeQuery,v=f==null?void 0:f.querySelectorAll(L);v==null||v.forEach(k=>{k.contains(g.target)&&x()})}const W=g=>{if(d.open===!1)return;const L=g.key;if(L==="Escape"){g.preventDefault(),t.focus(),x();return}y=Array.from(f==null?void 0:f.querySelectorAll(p)),d.open&&document.activeElement===t&&(L==="ArrowDown"||L==="Tab")&&p.length>0&&y.length>0&&(g.preventDefault(),y[0].focus())};switch(e.event){case"click":t.addEventListener("click",T,!0),window.addEventListener("click",C,!0);break;case"hover":t.addEventListener("mouseover",$,!0),t.addEventListener("mouseleave",()=>x(),!0);break;case"focus-blur":t.addEventListener("focus",T,!0),t.addEventListener("blur",()=>x(),!0);break;case"focus-click":t.addEventListener("focus",$,!0),window.addEventListener("click",C,!0);break;default:throw new Error(`Event value of '${e.event}' is not supported. ${h}`)}return window.addEventListener("keydown",W,!0),E(),{update(g){x(()=>{e=g,E(),b()})},destroy(){t.removeEventListener("click",T,!0),t.removeEventListener("mouseover",$,!0),t.removeEventListener("mouseleave",()=>x(),!0),t.removeEventListener("focus",T,!0),t.removeEventListener("focus",$,!0),t.removeEventListener("blur",()=>x(),!0),window.removeEventListener("click",C,!0),window.removeEventListener("keydown",W,!0)}}}function Y(t){return t.split("-")[1]}function at(t){return t==="y"?"height":"width"}function z(t){return t.split("-")[0]}function K(t){return["top","bottom"].includes(z(t))?"x":"y"}function ut(t,e,o){let{reference:n,floating:i}=t;const r=n.x+n.width/2-i.width/2,s=n.y+n.height/2-i.height/2,l=K(e),a=at(l),c=n[a]/2-i[a]/2,m=l==="x";let u;switch(z(e)){case"top":u={x:r,y:n.y-i.height};break;case"bottom":u={x:r,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:s};break;case"left":u={x:n.x-i.width,y:s};break;default:u={x:n.x,y:n.y}}switch(Y(e)){case"start":u[l]-=c*(o&&m?-1:1);break;case"end":u[l]+=c*(o&&m?-1:1)}return u}const Ft=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:s}=o,l=r.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:u}=ut(c,n,a),d=n,p={},y=0;for(let h=0;h<l.length;h++){const{name:f,fn:w}=l[h],{x:b,y:E,data:$,reset:x}=await w({x:m,y:u,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});m=b??m,u=E??u,p={...p,[f]:{...p[f],...$}},x&&y<=50&&(y++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(c=x.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:m,y:u}=ut(c,d,a)),h=-1)}return{x:m,y:u,placement:d,strategy:i,middlewareData:p}};function xt(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function tt(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function gt(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:r,rects:s,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:m="viewport",elementContext:u="floating",altBoundary:d=!1,padding:p=0}=e,y=xt(p),h=l[d?u==="floating"?"reference":"floating":u],f=tt(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(h)))==null||o?h:h.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:m,strategy:a})),w=u==="floating"?{...s.floating,x:n,y:i}:s.reference,b=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),E=await(r.isElement==null?void 0:r.isElement(b))&&await(r.getScale==null?void 0:r.getScale(b))||{x:1,y:1},$=tt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:b,strategy:a}):w);return{top:(f.top-$.top+y.top)/E.y,bottom:($.bottom-f.bottom+y.bottom)/E.y,left:(f.left-$.left+y.left)/E.x,right:($.right-f.right+y.right)/E.x}}const Pt=Math.min,Ot=Math.max;function st(t,e,o){return Ot(t,Pt(e,o))}const Qt=t=>({name:"arrow",options:t,async fn(e){const{element:o,padding:n=0}=t||{},{x:i,y:r,placement:s,rects:l,platform:a,elements:c}=e;if(o==null)return{};const m=xt(n),u={x:i,y:r},d=K(s),p=at(d),y=await a.getDimensions(o),h=d==="y",f=h?"top":"left",w=h?"bottom":"right",b=h?"clientHeight":"clientWidth",E=l.reference[p]+l.reference[d]-u[d]-l.floating[p],$=u[d]-l.reference[d],x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o));let T=x?x[b]:0;T&&await(a.isElement==null?void 0:a.isElement(x))||(T=c.floating[b]||l.floating[p]);const C=E/2-$/2,W=m[f],g=T-y[p]-m[w],L=T/2-y[p]/2+C,v=st(W,L,g),k=Y(s)!=null&&L!=v&&l.reference[p]/2-(L<W?m[f]:m[w])-y[p]/2<0;return{[d]:u[d]-(k?L<W?W-L:g-L:0),data:{[d]:v,centerOffset:L-v}}}}),Wt=["top","right","bottom","left"];Wt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Ht={left:"right",right:"left",bottom:"top",top:"bottom"};function et(t){return t.replace(/left|right|bottom|top/g,e=>Ht[e])}function Mt(t,e,o){o===void 0&&(o=!1);const n=Y(t),i=K(t),r=at(i);let s=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=et(s)),{main:s,cross:et(s)}}const Ut={start:"end",end:"start"};function lt(t){return t.replace(/start|end/g,e=>Ut[e])}const Xt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o;const{placement:n,middlewareData:i,rects:r,initialPlacement:s,platform:l,elements:a}=e,{mainAxis:c=!0,crossAxis:m=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:y=!0,...h}=t,f=z(n),w=z(s)===s,b=await(l.isRTL==null?void 0:l.isRTL(a.floating)),E=u||(w||!y?[et(s)]:function(v){const k=et(v);return[lt(v),k,lt(k)]}(s));u||p==="none"||E.push(...function(v,k,H,F){const S=Y(v);let R=function(M,_,rt){const G=["left","right"],J=["right","left"],Z=["top","bottom"],N=["bottom","top"];switch(M){case"top":case"bottom":return rt?_?J:G:_?G:J;case"left":case"right":return _?Z:N;default:return[]}}(z(v),H==="start",F);return S&&(R=R.map(M=>M+"-"+S),k&&(R=R.concat(R.map(lt)))),R}(s,y,p,b));const $=[s,...E],x=await gt(e,h),T=[];let C=((o=i.flip)==null?void 0:o.overflows)||[];if(c&&T.push(x[f]),m){const{main:v,cross:k}=Mt(n,r,b);T.push(x[v],x[k])}if(C=[...C,{placement:n,overflows:T}],!T.every(v=>v<=0)){var W,g;const v=(((W=i.flip)==null?void 0:W.index)||0)+1,k=$[v];if(k)return{data:{index:v,overflows:C},reset:{placement:k}};let H=(g=C.filter(F=>F.overflows[0]<=0).sort((F,S)=>F.overflows[1]-S.overflows[1])[0])==null?void 0:g.placement;if(!H)switch(d){case"bestFit":{var L;const F=(L=C.map(S=>[S.placement,S.overflows.filter(R=>R>0).reduce((R,M)=>R+M,0)]).sort((S,R)=>S[1]-R[1])[0])==null?void 0:L[0];F&&(H=F);break}case"initialPlacement":H=s}if(n!==H)return{reset:{placement:H}}}return{}}}},Yt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:o,y:n}=e,i=await async function(r,s){const{placement:l,platform:a,elements:c}=r,m=await(a.isRTL==null?void 0:a.isRTL(c.floating)),u=z(l),d=Y(l),p=K(l)==="x",y=["left","top"].includes(u)?-1:1,h=m&&p?-1:1,f=typeof s=="function"?s(r):s;let{mainAxis:w,crossAxis:b,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return d&&typeof E=="number"&&(b=d==="end"?-1*E:E),p?{x:b*h,y:w*y}:{x:w*y,y:b*h}}(e,t);return{x:o+i.x,y:n+i.y,data:i}}}};function Vt(t){return t==="x"?"y":"x"}const Kt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,{mainAxis:r=!0,crossAxis:s=!1,limiter:l={fn:f=>{let{x:w,y:b}=f;return{x:w,y:b}}},...a}=t,c={x:o,y:n},m=await gt(e,a),u=K(z(i)),d=Vt(u);let p=c[u],y=c[d];if(r){const f=u==="y"?"bottom":"right";p=st(p+m[u==="y"?"top":"left"],p,p-m[f])}if(s){const f=d==="y"?"bottom":"right";y=st(y+m[d==="y"?"top":"left"],y,y-m[f])}const h=l.fn({...e,[u]:p,[d]:y});return{...h,data:{x:h.x-o,y:h.y-n}}}}};function D(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function P(t){return D(t).getComputedStyle(t)}function vt(t){return t instanceof D(t).Node}function V(t){return vt(t)?(t.nodeName||"").toLowerCase():""}function O(t){return t instanceof D(t).HTMLElement}function A(t){return t instanceof D(t).Element}function dt(t){return typeof ShadowRoot>"u"?!1:t instanceof D(t).ShadowRoot||t instanceof ShadowRoot}function X(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=P(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function zt(t){return["table","td","th"].includes(V(t))}function ct(t){const e=ft(),o=P(t);return o.transform!=="none"||o.perspective!=="none"||!e&&!!o.backdropFilter&&o.backdropFilter!=="none"||!e&&!!o.filter&&o.filter!=="none"||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function ft(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ot(t){return["html","body","#document"].includes(V(t))}const pt=Math.min,j=Math.max,nt=Math.round;function bt(t){const e=P(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=O(t),r=i?t.offsetWidth:o,s=i?t.offsetHeight:n,l=nt(o)!==r||nt(n)!==s;return l&&(o=r,n=s),{width:o,height:n,fallback:l}}function Et(t){return A(t)?t:t.contextElement}const Lt={x:1,y:1};function q(t){const e=Et(t);if(!O(e))return Lt;const o=e.getBoundingClientRect(),{width:n,height:i,fallback:r}=bt(e);let s=(r?nt(o.width):o.width)/n,l=(r?nt(o.height):o.height)/i;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}const mt={x:0,y:0};function $t(t,e,o){var n,i;if(e===void 0&&(e=!0),!ft())return mt;const r=t?D(t):window;return!o||e&&o!==r?mt:{x:((n=r.visualViewport)==null?void 0:n.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function B(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=Et(t);let s=Lt;e&&(n?A(n)&&(s=q(n)):s=q(t));const l=$t(r,o,n);let a=(i.left+l.x)/s.x,c=(i.top+l.y)/s.y,m=i.width/s.x,u=i.height/s.y;if(r){const d=D(r),p=n&&A(n)?D(n):n;let y=d.frameElement;for(;y&&n&&p!==d;){const h=q(y),f=y.getBoundingClientRect(),w=getComputedStyle(y);f.x+=(y.clientLeft+parseFloat(w.paddingLeft))*h.x,f.y+=(y.clientTop+parseFloat(w.paddingTop))*h.y,a*=h.x,c*=h.y,m*=h.x,u*=h.y,a+=f.x,c+=f.y,y=D(y).frameElement}}return tt({width:m,height:u,x:a,y:c})}function U(t){return((vt(t)?t.ownerDocument:t.document)||window.document).documentElement}function it(t){return A(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function kt(t){return B(U(t)).left+it(t).scrollLeft}function I(t){if(V(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dt(t)&&t.host||U(t);return dt(e)?e.host:e}function Rt(t){const e=I(t);return ot(e)?e.ownerDocument.body:O(e)&&X(e)?e:Rt(e)}function Q(t,e){var o;e===void 0&&(e=[]);const n=Rt(t),i=n===((o=t.ownerDocument)==null?void 0:o.body),r=D(n);return i?e.concat(r,r.visualViewport||[],X(n)?n:[]):e.concat(n,Q(n))}function ht(t,e,o){let n;if(e==="viewport")n=function(i,r){const s=D(i),l=U(i),a=s.visualViewport;let c=l.clientWidth,m=l.clientHeight,u=0,d=0;if(a){c=a.width,m=a.height;const p=ft();(!p||p&&r==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:c,height:m,x:u,y:d}}(t,o);else if(e==="document")n=function(i){const r=U(i),s=it(i),l=i.ownerDocument.body,a=j(r.scrollWidth,r.clientWidth,l.scrollWidth,l.clientWidth),c=j(r.scrollHeight,r.clientHeight,l.scrollHeight,l.clientHeight);let m=-s.scrollLeft+kt(i);const u=-s.scrollTop;return P(l).direction==="rtl"&&(m+=j(r.clientWidth,l.clientWidth)-a),{width:a,height:c,x:m,y:u}}(U(t));else if(A(e))n=function(i,r){const s=B(i,!0,r==="fixed"),l=s.top+i.clientTop,a=s.left+i.clientLeft,c=O(i)?q(i):{x:1,y:1};return{width:i.clientWidth*c.x,height:i.clientHeight*c.y,x:a*c.x,y:l*c.y}}(e,o);else{const i=$t(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return tt(n)}function Tt(t,e){const o=I(t);return!(o===e||!A(o)||ot(o))&&(P(o).position==="fixed"||Tt(o,e))}function yt(t,e){return O(t)&&P(t).position!=="fixed"?e?e(t):t.offsetParent:null}function wt(t,e){const o=D(t);if(!O(t))return o;let n=yt(t,e);for(;n&&zt(n)&&P(n).position==="static";)n=yt(n,e);return n&&(V(n)==="html"||V(n)==="body"&&P(n).position==="static"&&!ct(n))?o:n||function(i){let r=I(i);for(;O(r)&&!ot(r);){if(ct(r))return r;r=I(r)}return null}(t)||o}function Bt(t,e,o){const n=O(e),i=U(e),r=o==="fixed",s=B(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(n||!n&&!r)if((V(e)!=="body"||X(i))&&(l=it(e)),O(e)){const c=B(e,!0,r,e);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=kt(i));return{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}const qt={getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const r=o==="clippingAncestors"?function(c,m){const u=m.get(c);if(u)return u;let d=Q(c).filter(f=>A(f)&&V(f)!=="body"),p=null;const y=P(c).position==="fixed";let h=y?I(c):c;for(;A(h)&&!ot(h);){const f=P(h),w=ct(h);w||f.position!=="fixed"||(p=null),(y?!w&&!p:!w&&f.position==="static"&&p&&["absolute","fixed"].includes(p.position)||X(h)&&!w&&Tt(c,h))?d=d.filter(b=>b!==h):p=f,h=I(h)}return m.set(c,d),d}(e,this._c):[].concat(o),s=[...r,n],l=s[0],a=s.reduce((c,m)=>{const u=ht(e,m,i);return c.top=j(u.top,c.top),c.right=pt(u.right,c.right),c.bottom=pt(u.bottom,c.bottom),c.left=j(u.left,c.left),c},ht(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const i=O(o),r=U(o);if(o===r)return e;let s={scrollLeft:0,scrollTop:0},l={x:1,y:1};const a={x:0,y:0};if((i||!i&&n!=="fixed")&&((V(o)!=="body"||X(r))&&(s=it(o)),O(o))){const c=B(o);l=q(o),a.x=c.x+o.clientLeft,a.y=c.y+o.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-s.scrollLeft*l.x+a.x,y:e.y*l.y-s.scrollTop*l.y+a.y}},isElement:A,getDimensions:function(t){return bt(t)},getOffsetParent:wt,getDocumentElement:U,getScale:q,async getElementRects(t){let{reference:e,floating:o,strategy:n}=t;const i=this.getOffsetParent||wt,r=this.getDimensions;return{reference:Bt(e,await i(o),n),floating:{x:0,y:0,...await r(o)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>P(t).direction==="rtl"};function Gt(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,animationFrame:l=!1}=n,a=i||r?[...A(t)?Q(t):t.contextElement?Q(t.contextElement):[],...Q(e)]:[];a.forEach(d=>{const p=!A(d)&&d.toString().includes("V");!i||l&&!p||d.addEventListener("scroll",o,{passive:!0}),r&&d.addEventListener("resize",o)});let c,m=null;s&&(m=new ResizeObserver(()=>{o()}),A(t)&&!l&&m.observe(t),A(t)||!t.contextElement||l||m.observe(t.contextElement),m.observe(e));let u=l?B(t):null;return l&&function d(){const p=B(t);!u||p.x===u.x&&p.y===u.y&&p.width===u.width&&p.height===u.height||o(),u=p,c=requestAnimationFrame(d)}(),o(),()=>{var d;a.forEach(p=>{i&&p.removeEventListener("scroll",o),r&&p.removeEventListener("resize",o)}),(d=m)==null||d.disconnect(),m=null,l&&cancelAnimationFrame(c)}}const Jt=(t,e,o)=>{const n=new Map,i={platform:qt,...o},r={...i.platform,_c:n};return Ft(t,e,{...i,platform:r})};export{Yt as D,Jt as M,Xt as b,Kt as k,jt as p,Ct as s,Qt as u,Gt as z};
