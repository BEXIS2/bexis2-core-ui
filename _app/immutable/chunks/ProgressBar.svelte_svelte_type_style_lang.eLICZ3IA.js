import{w as p,r as w}from"./index.VMVqufi5.js";import{Z as M}from"./scheduler.BWkzDb8U.js";const i={};function g(e){return localStorage}function m(e,t,s){const r=JSON;function l(a,c){g().setItem(a,r.stringify(c))}if(!i[e]){const a=p(t,o=>{const n=g().getItem(e);n&&o(r.parse(n));{const f=d=>{d.key===e&&o(d.newValue?r.parse(d.newValue):null)};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)}}),{subscribe:c,set:u}=a;i[e]={set(o){l(e,o),u(o)},update(o){const n=o(M(a));l(e,n),u(n)},subscribe:c}}return i[e]}const S=m("modeOsPrefers",!1),L=m("modeUserPrefers",void 0),P=m("modeCurrent",!1);function C(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return S.set(e),e}function b(e){L.set(e)}function I(e){const t=document.documentElement.classList,s="dark";e===!0?t.remove(s):t.add(s),P.set(e)}function O(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;t||s&&r?e.add("dark"):e.remove("dark")}const h="(prefers-reduced-motion: reduce)";function E(){return window.matchMedia(h).matches}const R=w(E(),e=>{{const t=r=>{e(r.matches)},s=window.matchMedia(h);return s.addEventListener("change",t),()=>{s.removeEventListener("change",t)}}});export{I as a,b,C as g,P as m,R as p,O as s};
