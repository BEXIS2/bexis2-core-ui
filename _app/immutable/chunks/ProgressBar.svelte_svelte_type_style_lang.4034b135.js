import{w as M,r as S}from"./index.5c326a8b.js";import{at as P}from"./index.9a980381.js";const l={};function h(e){return e==="local"?localStorage:sessionStorage}function i(e,s,t){const r=(t==null?void 0:t.serializer)??JSON,m=(t==null?void 0:t.storage)??"local";function u(n,c){h(m).setItem(n,r.stringify(c))}if(!l[e]){const n=M(s,o=>{const a=h(m).getItem(e);a&&o(r.parse(a));{const g=d=>{d.key===e&&o(d.newValue?r.parse(d.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:c,set:f}=n;l[e]={set(o){u(e,o),f(o)},update(o){const a=o(P(n));u(e,a),f(a)},subscribe:c}}return l[e]}const L=i("modeOsPrefers",!1),v=i("modeUserPrefers",void 0),p=i("modeCurrent",!1);function C(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return L.set(e),e}function b(e){v.set(e)}function I(e){const s=document.documentElement.classList,t="dark";e===!0?s.remove(t):s.add(t),p.set(e)}function O(){const e=document.documentElement.classList,s=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;s||t&&r?e.add("dark"):e.remove("dark")}const w="(prefers-reduced-motion: reduce)";function E(){return window.matchMedia(w).matches}const R=S(E(),e=>{{const s=r=>{e(r.matches)},t=window.matchMedia(w);return t.addEventListener("change",s),()=>{t.removeEventListener("change",s)}}});export{I as a,b,C as g,p as m,R as p,O as s};
