import{w as Ft}from"./index.7a9a3408.js";import{an as Ct}from"./index.bfb1ec04.js";const Ot=Ft(void 0);function Qt(t,e){const{computePosition:o,autoUpdate:n,offset:r,shift:i,flip:l,arrow:s,size:d,autoPlacement:c,hide:m,inline:a}=Ct(Ot),f={open:!1,autoUpdateCleanup:()=>{}},p=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let y;const h="https://www.skeleton.dev/utilities/popups";let u,w;function b(){u=document.querySelector(`[data-popup="${e.target}"]`)??document.createElement("div"),w=u.querySelector(".arrow")??document.createElement("div")}b();function E(){var k,g,$,L,A,D,S,V;if(!u)throw new Error(`The data-popup="${e.target}" element was not found. ${h}`);if(!o)throw new Error(`Floating UI 'computePosition' not found for data-popup="${e.target}". ${h}`);if(!r)throw new Error(`Floating UI 'offset' not found for data-popup="${e.target}". ${h}`);if(!i)throw new Error(`Floating UI 'shift' not found for data-popup="${e.target}". ${h}`);if(!l)throw new Error(`Floating UI 'flip' not found for data-popup="${e.target}". ${h}`);if(!s)throw new Error(`Floating UI 'arrow' not found for data-popup="${e.target}". ${h}`);const v=[];d&&v.push(d((k=e.middleware)==null?void 0:k.size)),c&&v.push(c((g=e.middleware)==null?void 0:g.autoPlacement)),m&&v.push(m(($=e.middleware)==null?void 0:$.hide)),a&&v.push(a((L=e.middleware)==null?void 0:L.inline)),o(t,u,{placement:e.placement??"bottom",middleware:[r(((A=e.middleware)==null?void 0:A.offset)??8),i(((D=e.middleware)==null?void 0:D.shift)??{padding:8}),l((S=e.middleware)==null?void 0:S.flip),s(((V=e.middleware)==null?void 0:V.arrow)??{element:w||null}),...v]}).then(({x:_,y:lt,placement:J,middlewareData:Z})=>{if(Object.assign(u.style,{left:`${_}px`,top:`${lt}px`}),w){const{x:N,y:tt}=Z.arrow,Dt={top:"bottom",right:"left",bottom:"top",left:"right"}[J.split("-")[0]];Object.assign(w.style,{left:N!=null?`${N}px`:"",top:tt!=null?`${tt}px`:"",right:"",bottom:"",[Dt]:"-4px"})}})}function R(){u&&(f.open=!0,e.state&&e.state({state:f.open}),E(),u.style.display="block",u.style.opacity="1",u.style.pointerEvents="auto",f.autoUpdateCleanup=n(t,u,E),y=Array.from(u==null?void 0:u.querySelectorAll(p)))}function x(v){if(!u)return;const k=parseFloat(window.getComputedStyle(u).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{f.open=!1,e.state&&e.state({state:f.open}),u.style.opacity="0",u.style.pointerEvents="none",f.autoUpdateCleanup&&f.autoUpdateCleanup(),v&&v()},k)}function T(){f.open===!1?R():x()}function O(v){if(f.open===!1||t.contains(v.target))return;if(u&&u.contains(v.target)===!1){x();return}const k=e.closeQuery===void 0?"a[href], button":e.closeQuery,g=u==null?void 0:u.querySelectorAll(k);g==null||g.forEach($=>{$.contains(v.target)&&x()})}const M=v=>{if(f.open===!1)return;const k=v.key;if(k==="Escape"){v.preventDefault(),t.focus(),x();return}y=Array.from(u==null?void 0:u.querySelectorAll(p)),f.open&&document.activeElement===t&&(k==="ArrowDown"||k==="Tab")&&p.length>0&&y.length>0&&(v.preventDefault(),y[0].focus())};switch(e.event){case"click":t.addEventListener("click",T,!0),window.addEventListener("click",O,!0);break;case"hover":t.addEventListener("mouseover",R,!0),t.addEventListener("mouseleave",()=>x(),!0);break;case"focus-blur":t.addEventListener("focus",T,!0),t.addEventListener("blur",()=>x(),!0);break;case"focus-click":t.addEventListener("focus",R,!0),window.addEventListener("click",O,!0);break;default:throw new Error(`Event value of '${e.event}' is not supported. ${h}`)}return window.addEventListener("keydown",M,!0),E(),{update(v){x(()=>{e=v,E(),b()})},destroy(){t.removeEventListener("click",T,!0),t.removeEventListener("mouseover",R,!0),t.removeEventListener("mouseleave",()=>x(),!0),t.removeEventListener("focus",T,!0),t.removeEventListener("focus",R,!0),t.removeEventListener("blur",()=>x(),!0),window.removeEventListener("click",O,!0),window.removeEventListener("keydown",M,!0)}}}function Y(t){return t.split("-")[1]}function ut(t){return t==="y"?"height":"width"}function z(t){return t.split("-")[0]}function K(t){return["top","bottom"].includes(z(t))?"x":"y"}function pt(t,e,o){let{reference:n,floating:r}=t;const i=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2,s=K(e),d=ut(s),c=n[d]/2-r[d]/2,m=s==="x";let a;switch(z(e)){case"top":a={x:i,y:n.y-r.height};break;case"bottom":a={x:i,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:l};break;case"left":a={x:n.x-r.width,y:l};break;default:a={x:n.x,y:n.y}}switch(Y(e)){case"start":a[s]-=c*(o&&m?-1:1);break;case"end":a[s]+=c*(o&&m?-1:1)}return a}const Pt=async(t,e,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:l}=o,s=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y:a}=pt(c,n,d),f=n,p={},y=0;for(let h=0;h<s.length;h++){const{name:u,fn:w}=s[h],{x:b,y:E,data:R,reset:x}=await w({x:m,y:a,initialPlacement:n,placement:f,strategy:r,middlewareData:p,rects:c,platform:l,elements:{reference:t,floating:e}});m=b??m,a=E??a,p={...p,[u]:{...p[u],...R}},x&&y<=50&&(y++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(c=x.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:r}):x.rects),{x:m,y:a}=pt(c,f,d)),h=-1)}return{x:m,y:a,placement:f,strategy:r,middlewareData:p}};function G(t,e){return typeof t=="function"?t(e):t}function vt(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function et(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function bt(t,e){var o;e===void 0&&(e={});const{x:n,y:r,platform:i,rects:l,elements:s,strategy:d}=t,{boundary:c="clippingAncestors",rootBoundary:m="viewport",elementContext:a="floating",altBoundary:f=!1,padding:p=0}=G(e,t),y=vt(p),h=s[f?a==="floating"?"reference":"floating":a],u=et(await i.getClippingRect({element:(o=await(i.isElement==null?void 0:i.isElement(h)))==null||o?h:h.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:m,strategy:d})),w=a==="floating"?{...l.floating,x:n,y:r}:l.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),E=await(i.isElement==null?void 0:i.isElement(b))&&await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1},R=et(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:b,strategy:d}):w);return{top:(u.top-R.top+y.top)/E.y,bottom:(R.bottom-u.bottom+y.bottom)/E.y,left:(u.left-R.left+y.left)/E.x,right:(R.right-u.right+y.right)/E.x}}const ct=Math.min,Wt=Math.max;function at(t,e,o){return Wt(t,ct(e,o))}const Xt=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:r,rects:i,platform:l,elements:s}=e,{element:d,padding:c=0}=G(t,e)||{};if(d==null)return{};const m=vt(c),a={x:o,y:n},f=K(r),p=ut(f),y=await l.getDimensions(d),h=f==="y",u=h?"top":"left",w=h?"bottom":"right",b=h?"clientHeight":"clientWidth",E=i.reference[p]+i.reference[f]-a[f]-i.floating[p],R=a[f]-i.reference[f],x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let T=x?x[b]:0;T&&await(l.isElement==null?void 0:l.isElement(x))||(T=s.floating[b]||i.floating[p]);const O=E/2-R/2,M=T/2-y[p]/2-1,v=ct(m[u],M),k=ct(m[w],M),g=v,$=T-y[p]-k,L=T/2-y[p]/2+O,A=at(g,L,$),D=Y(r)!=null&&L!=A&&i.reference[p]/2-(L<g?v:k)-y[p]/2<0;return{[f]:a[f]-(D?L<g?g-L:$-L:0),data:{[f]:A,centerOffset:L-A}}}}),Mt=["top","right","bottom","left"];Mt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Vt={left:"right",right:"left",bottom:"top",top:"bottom"};function nt(t){return t.replace(/left|right|bottom|top/g,e=>Vt[e])}function Ht(t,e,o){o===void 0&&(o=!1);const n=Y(t),r=K(t),i=ut(r);let l=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=nt(l)),{main:l,cross:nt(l)}}const Ut={start:"end",end:"start"};function st(t){return t.replace(/start|end/g,e=>Ut[e])}const Yt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o;const{placement:n,middlewareData:r,rects:i,initialPlacement:l,platform:s,elements:d}=e,{mainAxis:c=!0,crossAxis:m=!0,fallbackPlacements:a,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:y=!0,...h}=G(t,e),u=z(n),w=z(l)===l,b=await(s.isRTL==null?void 0:s.isRTL(d.floating)),E=a||(w||!y?[nt(l)]:function(g){const $=nt(g);return[st(g),$,st($)]}(l));a||p==="none"||E.push(...function(g,$,L,A){const D=Y(g);let S=function(V,_,lt){const J=["left","right"],Z=["right","left"],N=["top","bottom"],tt=["bottom","top"];switch(V){case"top":case"bottom":return lt?_?Z:J:_?J:Z;case"left":case"right":return _?N:tt;default:return[]}}(z(g),L==="start",A);return D&&(S=S.map(V=>V+"-"+D),$&&(S=S.concat(S.map(st)))),S}(l,y,p,b));const R=[l,...E],x=await bt(e,h),T=[];let O=((o=r.flip)==null?void 0:o.overflows)||[];if(c&&T.push(x[u]),m){const{main:g,cross:$}=Ht(n,i,b);T.push(x[g],x[$])}if(O=[...O,{placement:n,overflows:T}],!T.every(g=>g<=0)){var M,v;const g=(((M=r.flip)==null?void 0:M.index)||0)+1,$=R[g];if($)return{data:{index:g,overflows:O},reset:{placement:$}};let L=(v=O.filter(A=>A.overflows[0]<=0).sort((A,D)=>A.overflows[1]-D.overflows[1])[0])==null?void 0:v.placement;if(!L)switch(f){case"bestFit":{var k;const A=(k=O.map(D=>[D.placement,D.overflows.filter(S=>S>0).reduce((S,V)=>S+V,0)]).sort((D,S)=>D[1]-S[1])[0])==null?void 0:k[0];A&&(L=A);break}case"initialPlacement":L=l}if(n!==L)return{reset:{placement:L}}}return{}}}},Kt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:o,y:n}=e,r=await async function(i,l){const{placement:s,platform:d,elements:c}=i,m=await(d.isRTL==null?void 0:d.isRTL(c.floating)),a=z(s),f=Y(s),p=K(s)==="x",y=["left","top"].includes(a)?-1:1,h=m&&p?-1:1,u=G(l,i);let{mainAxis:w,crossAxis:b,alignmentAxis:E}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return f&&typeof E=="number"&&(b=f==="end"?-1*E:E),p?{x:b*h,y:w*y}:{x:w*y,y:b*h}}(e,t);return{x:o+r.x,y:n+r.y,data:r}}}};function zt(t){return t==="x"?"y":"x"}const Gt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:r}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:s={fn:u=>{let{x:w,y:b}=u;return{x:w,y:b}}},...d}=G(t,e),c={x:o,y:n},m=await bt(e,d),a=K(z(r)),f=zt(a);let p=c[a],y=c[f];if(i){const u=a==="y"?"bottom":"right";p=at(p+m[a==="y"?"top":"left"],p,p-m[u])}if(l){const u=f==="y"?"bottom":"right";y=at(y+m[f==="y"?"top":"left"],y,y-m[u])}const h=s.fn({...e,[a]:p,[f]:y});return{...h,data:{x:h.x-o,y:h.y-n}}}}};function C(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function P(t){return C(t).getComputedStyle(t)}function Et(t){return t instanceof C(t).Node}function U(t){return Et(t)?(t.nodeName||"").toLowerCase():""}function W(t){return t instanceof C(t).HTMLElement}function F(t){return t instanceof C(t).Element}function mt(t){return typeof ShadowRoot>"u"?!1:t instanceof C(t).ShadowRoot||t instanceof ShadowRoot}function X(t){const{overflow:e,overflowX:o,overflowY:n,display:r}=P(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(r)}function Bt(t){return["table","td","th"].includes(U(t))}function ft(t){const e=dt(),o=P(t);return o.transform!=="none"||o.perspective!=="none"||!e&&!!o.backdropFilter&&o.backdropFilter!=="none"||!e&&!!o.filter&&o.filter!=="none"||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function dt(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function it(t){return["html","body","#document"].includes(U(t))}const ht=Math.min,j=Math.max,ot=Math.round;function Lt(t){const e=P(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=W(t),i=r?t.offsetWidth:o,l=r?t.offsetHeight:n,s=ot(o)!==i||ot(n)!==l;return s&&(o=i,n=l),{width:o,height:n,fallback:s}}function $t(t){return F(t)?t:t.contextElement}const Rt={x:1,y:1};function q(t){const e=$t(t);if(!W(e))return Rt;const o=e.getBoundingClientRect(),{width:n,height:r,fallback:i}=Lt(e);let l=(i?ot(o.width):o.width)/n,s=(i?ot(o.height):o.height)/r;return l&&Number.isFinite(l)||(l=1),s&&Number.isFinite(s)||(s=1),{x:l,y:s}}const yt={x:0,y:0};function kt(t,e,o){var n,r;if(e===void 0&&(e=!0),!dt())return yt;const i=t?C(t):window;return!o||e&&o!==i?yt:{x:((n=i.visualViewport)==null?void 0:n.offsetLeft)||0,y:((r=i.visualViewport)==null?void 0:r.offsetTop)||0}}function B(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const r=t.getBoundingClientRect(),i=$t(t);let l=Rt;e&&(n?F(n)&&(l=q(n)):l=q(t));const s=kt(i,o,n);let d=(r.left+s.x)/l.x,c=(r.top+s.y)/l.y,m=r.width/l.x,a=r.height/l.y;if(i){const f=C(i),p=n&&F(n)?C(n):n;let y=f.frameElement;for(;y&&n&&p!==f;){const h=q(y),u=y.getBoundingClientRect(),w=getComputedStyle(y);u.x+=(y.clientLeft+parseFloat(w.paddingLeft))*h.x,u.y+=(y.clientTop+parseFloat(w.paddingTop))*h.y,d*=h.x,c*=h.y,m*=h.x,a*=h.y,d+=u.x,c+=u.y,y=C(y).frameElement}}return et({width:m,height:a,x:d,y:c})}function H(t){return((Et(t)?t.ownerDocument:t.document)||window.document).documentElement}function rt(t){return F(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Tt(t){return B(H(t)).left+rt(t).scrollLeft}function I(t){if(U(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mt(t)&&t.host||H(t);return mt(e)?e.host:e}function At(t){const e=I(t);return it(e)?e.ownerDocument.body:W(e)&&X(e)?e:At(e)}function Q(t,e){var o;e===void 0&&(e=[]);const n=At(t),r=n===((o=t.ownerDocument)==null?void 0:o.body),i=C(n);return r?e.concat(i,i.visualViewport||[],X(n)?n:[]):e.concat(n,Q(n))}function wt(t,e,o){let n;if(e==="viewport")n=function(r,i){const l=C(r),s=H(r),d=l.visualViewport;let c=s.clientWidth,m=s.clientHeight,a=0,f=0;if(d){c=d.width,m=d.height;const p=dt();(!p||p&&i==="fixed")&&(a=d.offsetLeft,f=d.offsetTop)}return{width:c,height:m,x:a,y:f}}(t,o);else if(e==="document")n=function(r){const i=H(r),l=rt(r),s=r.ownerDocument.body,d=j(i.scrollWidth,i.clientWidth,s.scrollWidth,s.clientWidth),c=j(i.scrollHeight,i.clientHeight,s.scrollHeight,s.clientHeight);let m=-l.scrollLeft+Tt(r);const a=-l.scrollTop;return P(s).direction==="rtl"&&(m+=j(i.clientWidth,s.clientWidth)-d),{width:d,height:c,x:m,y:a}}(H(t));else if(F(e))n=function(r,i){const l=B(r,!0,i==="fixed"),s=l.top+r.clientTop,d=l.left+r.clientLeft,c=W(r)?q(r):{x:1,y:1};return{width:r.clientWidth*c.x,height:r.clientHeight*c.y,x:d*c.x,y:s*c.y}}(e,o);else{const r=kt(t);n={...e,x:e.x-r.x,y:e.y-r.y}}return et(n)}function St(t,e){const o=I(t);return!(o===e||!F(o)||it(o))&&(P(o).position==="fixed"||St(o,e))}function xt(t,e){return W(t)&&P(t).position!=="fixed"?e?e(t):t.offsetParent:null}function gt(t,e){const o=C(t);if(!W(t))return o;let n=xt(t,e);for(;n&&Bt(n)&&P(n).position==="static";)n=xt(n,e);return n&&(U(n)==="html"||U(n)==="body"&&P(n).position==="static"&&!ft(n))?o:n||function(r){let i=I(r);for(;W(i)&&!it(i);){if(ft(i))return i;i=I(i)}return null}(t)||o}function qt(t,e,o){const n=W(e),r=H(e),i=o==="fixed",l=B(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const d={x:0,y:0};if(n||!n&&!i)if((U(e)!=="body"||X(r))&&(s=rt(e)),W(e)){const c=B(e,!0,i,e);d.x=c.x+e.clientLeft,d.y=c.y+e.clientTop}else r&&(d.x=Tt(r));return{x:l.left+s.scrollLeft-d.x,y:l.top+s.scrollTop-d.y,width:l.width,height:l.height}}const It={getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:n,strategy:r}=t;const i=o==="clippingAncestors"?function(c,m){const a=m.get(c);if(a)return a;let f=Q(c).filter(u=>F(u)&&U(u)!=="body"),p=null;const y=P(c).position==="fixed";let h=y?I(c):c;for(;F(h)&&!it(h);){const u=P(h),w=ft(h);w||u.position!=="fixed"||(p=null),(y?!w&&!p:!w&&u.position==="static"&&p&&["absolute","fixed"].includes(p.position)||X(h)&&!w&&St(c,h))?f=f.filter(b=>b!==h):p=u,h=I(h)}return m.set(c,f),f}(e,this._c):[].concat(o),l=[...i,n],s=l[0],d=l.reduce((c,m)=>{const a=wt(e,m,r);return c.top=j(a.top,c.top),c.right=ht(a.right,c.right),c.bottom=ht(a.bottom,c.bottom),c.left=j(a.left,c.left),c},wt(e,s,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const r=W(o),i=H(o);if(o===i)return e;let l={scrollLeft:0,scrollTop:0},s={x:1,y:1};const d={x:0,y:0};if((r||!r&&n!=="fixed")&&((U(o)!=="body"||X(i))&&(l=rt(o)),W(o))){const c=B(o);s=q(o),d.x=c.x+o.clientLeft,d.y=c.y+o.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-l.scrollLeft*s.x+d.x,y:e.y*s.y-l.scrollTop*s.y+d.y}},isElement:F,getDimensions:function(t){return Lt(t)},getOffsetParent:gt,getDocumentElement:H,getScale:q,async getElementRects(t){let{reference:e,floating:o,strategy:n}=t;const r=this.getOffsetParent||gt,i=this.getDimensions;return{reference:qt(e,await r(o),n),floating:{x:0,y:0,...await i(o)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>P(t).direction==="rtl"};function Jt(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=!0,animationFrame:s=!1}=n,d=r||i?[...F(t)?Q(t):t.contextElement?Q(t.contextElement):[],...Q(e)]:[];d.forEach(f=>{const p=!F(f)&&f.toString().includes("V");!r||s&&!p||f.addEventListener("scroll",o,{passive:!0}),i&&f.addEventListener("resize",o)});let c,m=null;l&&(m=new ResizeObserver(()=>{o()}),F(t)&&!s&&m.observe(t),F(t)||!t.contextElement||s||m.observe(t.contextElement),m.observe(e));let a=s?B(t):null;return s&&function f(){const p=B(t);!a||p.x===a.x&&p.y===a.y&&p.width===a.width&&p.height===a.height||o(),a=p,c=requestAnimationFrame(f)}(),o(),()=>{var f;d.forEach(p=>{r&&p.removeEventListener("scroll",o),i&&p.removeEventListener("resize",o)}),(f=m)==null||f.disconnect(),m=null,s&&cancelAnimationFrame(c)}}const Zt=(t,e,o)=>{const n=new Map,r={platform:It,...o},i={...r.platform,_c:n};return Pt(t,e,{...r,platform:i})};export{Yt as A,Kt as L,Zt as M,Gt as O,Xt as g,Qt as p,Ot as s,Jt as z};
